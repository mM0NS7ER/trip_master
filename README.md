# Trip Master - AIæ—…è¡Œè§„åˆ’å¸ˆ(å¼€å‘ä¸­)

Trip Masteræ˜¯ä¸€ä¸ªåŸºäºAIæŠ€æœ¯çš„æ™ºèƒ½æ—…è¡Œè§„åˆ’å¹³å°ï¼Œæ—¨åœ¨ç®€åŒ–ç”¨æˆ·çš„æ—…è¡Œè§„åˆ’è¿‡ç¨‹ï¼Œæä¾›ä¸ªæ€§åŒ–çš„è¡Œç¨‹å®‰æ’ã€é¢„ç®—ç®¡ç†å’Œå®æ—¶è¾…åŠ©åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Docker)

å¦‚æœæ‚¨æƒ³å¿«é€Ÿä½“éªŒ Trip Masterï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. **æ‹‰å–é•œåƒ**ï¼š
   ```bash
   docker pull crpi-y5vfuyt2mtd4w1m2.cn-hangzhou.personal.cr.aliyuncs.com/trip-master/trip-master:latest
   ```

2. **å¯åŠ¨å®¹å™¨**ï¼š
   ```bash
   docker run -p 80:80 -p 8000:8000 trip-master
   ```

3. **è®¿é—®åº”ç”¨**ï¼š
   - å‰ç«¯ç•Œé¢ï¼šhttp://localhost
   - API æ–‡æ¡£ï¼šhttp://localhost:8000/docs

**æ³¨æ„**ï¼šè¯·ç¡®ä¿æ‚¨å·²æ­£ç¡®é…ç½®æ‰€æœ‰å¿…è¦çš„ API å¯†é’¥ï¼Œå¦åˆ™åº”ç”¨å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚

## é¡¹ç›®æ¦‚è¿°

Trip Masteré€šè¿‡AIæŠ€æœ¯ï¼Œæä¾›ä¸€ä¸ªé›†è¡Œç¨‹ç”Ÿæˆã€é¢„ç®—ç®¡ç†ã€å®æ—¶è¾…åŠ©äºä¸€ä½“çš„æ™ºèƒ½æ—…è¡Œè§„åˆ’å¹³å°ï¼Œç®€åŒ–ç”¨æˆ·å†³ç­–æµç¨‹ï¼Œæå‡æ—…è¡Œä½“éªŒã€‚

## æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½å¯¹è¯äº¤äº’**ï¼šç”¨æˆ·å¯é€šè¿‡æ–‡æœ¬æˆ–è¯­éŸ³ä¸AIäº¤äº’ï¼Œæè¿°æ—…è¡Œéœ€æ±‚
- **è¡Œç¨‹å¯è§†åŒ–**ï¼šåœ¨åœ°å›¾ä¸Šå±•ç¤ºè¡Œç¨‹è·¯çº¿å’Œå…³é”®ç‚¹ä½ï¼ˆPOIï¼‰
- **è¡Œç¨‹ç®¡ç†**ï¼šæ”¯æŒæ‰‹åŠ¨è°ƒæ•´è¡Œç¨‹é¡ºåºï¼Œå¢åˆ æ™¯ç‚¹
- **é¢„ç®—ç®¡ç†**ï¼šå®æ—¶è®¡ç®—å¹¶æ˜¾ç¤ºè¡Œç¨‹æ€»èŠ±è´¹ï¼Œæ”¯æŒåˆ†é¡¹é¢„ç®—è®¾ç½®
- **å¤šè®¾å¤‡åŒæ­¥**ï¼šç”¨æˆ·ç™»å½•åï¼Œè¡Œç¨‹æ•°æ®åœ¨æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘é—´åŒæ­¥

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šReact + TypeScript
- **æ„å»ºå·¥å…·**ï¼šVite
- **æ ·å¼**ï¼šTailwind CSS + Shadcn/UIç»„ä»¶åº“
- **åœ°å›¾é›†æˆ**ï¼šé«˜å¾·åœ°å›¾API
- **è·¯ç”±**ï¼šReact Router DOM
- **çŠ¶æ€ç®¡ç†**ï¼šZustandï¼ˆè½»é‡çº§çŠ¶æ€ç®¡ç†ï¼‰

### åç«¯æŠ€æœ¯æ ˆ
- **ä¸»æ¡†æ¶**ï¼šPython + FastAPI
- **æ•°æ®åº“**ï¼šPostgreSQLï¼ˆä¸»æ•°æ®ï¼‰+ Redisï¼ˆç¼“å­˜ï¼‰ï¼Œä½¿ç”¨Supabase BaaSå¹³å°
- **ORM**ï¼šSQLAlchemy
- **æ•°æ®åº“è¿ç§»**ï¼šAlembic
- **è®¤è¯**ï¼šJWTï¼ˆJSON Web Tokensï¼‰
- **æ–‡ä»¶å­˜å‚¨**ï¼šOSSäº‘å­˜å‚¨ï¼ˆè¡Œç¨‹é™„ä»¶ã€ç”¨æˆ·å¤´åƒï¼‰

### ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- **åœ°å›¾æœåŠ¡**ï¼šé«˜å¾·åœ°å›¾Web APIï¼ˆè·¯å¾„è§„åˆ’ã€POIæœç´¢ã€é™æ€åœ°å›¾ï¼‰
- **AIå¤§æ¨¡å‹**ï¼šDeepSeek API
- **è¯­éŸ³æœåŠ¡**ï¼šç§‘å¤§è®¯é£è¯­éŸ³è¯†åˆ«+åˆæˆAPI

## é¡¹ç›®ç»“æ„

```
trip_master/
â”œâ”€â”€ frontend/                # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/     # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatArea/   # èŠå¤©åŒºåŸŸç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatArea.tsx      # èŠå¤©ä¸»ä½“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InputSection.tsx  # è¾“å…¥åŒºåŸŸ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WelcomeSection.tsx # æ¬¢è¿åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/         # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx        # æŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx        # å¯¹è¯æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx # ä¸‹æ‹‰èœå•ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx         # è¾“å…¥æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ label.tsx         # æ ‡ç­¾ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthModal.tsx  # è®¤è¯æ¨¡æ€æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatLayout.tsx # èŠå¤©å¸ƒå±€
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx      # é¡µå¤´ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ History.tsx     # å†å²è®°å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ MapArea.tsx     # åœ°å›¾åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx     # ä¾§è¾¹æ 
â”‚   â”‚   â”‚   â””â”€â”€ UserProfile.tsx # ç”¨æˆ·èµ„æ–™
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ authStore.tsx  # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ App.tsx          # ä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.tsx         # å…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ index.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.html           # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ package.json         # ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ vite.config.ts       # Viteé…ç½®
â”‚   â”œâ”€â”€ tailwind.config.js   # Tailwindé…ç½®
â”‚   â”œâ”€â”€ tsconfig.json        # TypeScripté…ç½®
â”‚   â””â”€â”€ postcss.config.js    # PostCSSé…ç½®
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### å‰ç«¯

1. è¿›å…¥å‰ç«¯ç›®å½•ï¼š
```bash
cd frontend
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š
```bash
npm run build
```

### åç«¯

1. è¿›å…¥åç«¯ç›®å½•ï¼š
```bash
cd backend
```

2. åˆ›å»ºå¹¶æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒï¼š
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n trip-master python=3.12
conda activate trip-master

# Linux/Macæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate
```

3. å®‰è£…ä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

4. é…ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
touch .env

# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥å¿…è¦çš„APIå¯†é’¥å’Œé…ç½®
```

5. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆå¦‚éœ€è¦ï¼‰ï¼š
```bash
# ç”Ÿæˆè¿ç§»æ–‡ä»¶
alembic revision --autogenerate -m "æè¿°"

# æ‰§è¡Œè¿ç§»
alembic upgrade head
```

6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

7. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼ˆä½¿ç”¨Dockerï¼‰ï¼š
```bash
# æ„å»ºDockeré•œåƒ
docker build -t trip-master .

# è¿è¡Œå®¹å™¨ï¼ˆéœ€è¦å…ˆé…ç½®.envæ–‡ä»¶ï¼‰
docker run -p 80:80 -p 8000:8000 -v /path/to/your/.env:/app/.env trip-master
```


#### åç«¯APIæ–‡æ¡£

å¯åŠ¨åç«¯æœåŠ¡åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®APIæ–‡æ¡£ï¼š
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc
- OpenAPI JSON: http://localhost:8000/openapi.json

#### åç«¯é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ app/                   # åº”ç”¨æºä»£ç 
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schemas/           # Pydanticæ¨¡å¼
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ main.py            # åº”ç”¨å…¥å£
â”œâ”€â”€ alembic/               # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ .env                   # ç¯å¢ƒå˜é‡
â”œâ”€â”€ requirements.txt       # ä¾èµ–é…ç½®
â””â”€â”€ Dockerfile             # Dockeré…ç½®
```

